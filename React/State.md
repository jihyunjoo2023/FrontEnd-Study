# State

- state: 컴포넌트 내부에서 바뀔 수 있는 값.
- state를 만들 때는 useState()를 사용함

## useState 훅

- const로 선언 후 [] 빈 배열을 생성, 배열의 첫번째 자리에는 state의 이름, 두번째 자리에는 set을 붙이고 state의 이름을 붙여줌. 그리고 useState()의 인자에는 state의 원하는 처음값을 넣어줌!
- 처음 값: initial state

## State 변경

- state를 변경할 시 setValue(바꾸고 싶은 값)를 사용함
- 사용자가 input에 어떤 값을 입력하면, 그 값을 입력할때마다, 같은 말로 onChange 될 때마다 value라는 state에 setValue해서 넣어주는 것.
- 이러한 과정을 통해서 사용자의 input 값을 state로 관리하는 것.

## 불변성

- 불변성: 메모리에 있는 값을 변경할 수 없는 것.
- 자바스크립트의 데이터 형태 중에 원시 데이터는 불변성이 있고, 원시 데이터가 아닌 객체, 배열, 함수는 불변성이 없음!

### 변수 저장 시 메모리에 저장되는 방식

- 메모리 안에 값을 저장해주면 자바스크립트는 그 저장되어 있는 값을 참조하기 때문에 그 메모리의 값을 기반으로 진행.
- 하지만 원시데이터가 아닌 값(객체, 배열, 함수)은 아님!

### 데이터 수정 시

- 원시데이터는 불변성이 존재.
- 즉, 기존 메모리에 저장이 되어 있는 1이라는 값이 변하지 않고, 새로운 메모리 저장공간에 2가 생기고 number라는 값을 새로운 메모리 공간에 저장된 2를 참조함.
- 하지만 객체는 불변성이 없음.
- 원시데이터는 수정을 했을 때 메모리에 저장된 값 자체는 바꿀 수 없고. 새로운 메모리 저장 공간에 새로운 값을 저장함
- 원시데이터가 아닌 데이터는 수정했을 때 기존에 저장되어 있던 메모리 저장공간의 값 자체를 바꿔버림

### 왜 리액트에서는 원시데이터가 아닌 데이터의 불변성을 지켜주는 것을 중요시하는가?

- 리액트의 경우 화면의 리랜더링 유무를 결정 시 state의 변화를 확인하기 떄문에 중요.
- 변화를 확인하기 위해서는 state의 변화 전, 후의 메모리 주소를 비교함
- 그래서 리액트에서 원시데이터가 아닌 데이터를 수정할 때 불변성을 지켜주지 않고, 직접 수정을 가하면 값은 바뀌지만 메모리주소는 변함이 없게 되는 것임.
- 즉, 개발자가 값은 바꿧지만 리액트는 state가 변했다고 인지하지 못하게 됨. 그래서 결국 마땅히 일어나야 할 리랜더링이 일어나지 않게 됨!
